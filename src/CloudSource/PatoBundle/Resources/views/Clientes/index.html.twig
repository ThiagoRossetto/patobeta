{% extends 'PatoBundle:Default:index.html.twig' %}

{% block bodyLeft %}

    <div id="acoes-topo" class="wrapper">
        <button class="btn btn-large btn-info" onclick="location.href='{{ path('pato_cliente_novo') }}'">Novo Cliente</button>
        <div class="clearfix"></div>
    </div>

<br><br>

    <div class="row-fluid">
        <div class="span24">
            <div class="widget">
                <div class="widget-header">
                    <div class="title">
                        Clientes
                    </div>
                    <span class="tools">
                      <a class="fs1" aria-hidden="true" data-icon="&#xe090;"></a>
                    </span>
                </div>
                
                <div class="widget-body">
                    <div id="" class="">
                        <table class="table table-condensed table-striped table-hover table-bordered pull-left" id="data-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Telefone</th>
                                    <th>Empresa</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div class="clearfix">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block addScript %}
    <script src="{{ asset('bundles/pato/js/jquery.dataTables.js') }}">
    </script>
{% endblock %}

{% block addScripts %}

    function carregaClientes() {
        jQuery.get('{{ path('pato_cliente_page', {'page': 1}) }}', function(data) {
            console.log(data);
            console.log('nonono');
        });

        jQuery('#data-table').dataTable({
            'bPaginate': false,
            'bFilter': false,
            'bInfo': false,
            'bProcessing': true,
            'sAjaxSource': '{{ path('pato_cliente_page', {'page': 1}) }}'
        });
    }

    carregaClientes();

{% endblock %}